(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"0nSK":function(e,t,o){"use strict";var n=o("XNiG"),r=o("LRne");const a=o("AytR").a.api_host,s="/dashboard/login",c="/dashboard/logout";var l=o("8Y7J"),i=o("iInd"),u=o("NCLd");o.d(t,"a",function(){return g});let g=(()=>{class e{constructor(e,t){this.router=e,this.common=t,this.announceLoggedIn=new n.a,this.loggedIn$=this.announceLoggedIn.asObservable(),this.loginResourceURL=a+s,this.logoutResourceURL=a+c}login(e,t){let o={token:"veryverylongsecrettoken"};return this.setCurrentUser(e),this.setToken(o),this.announceLoggedIn.next(o),Object(r.a)(o)}logout(){return this.common.postData(this.logoutResourceURL,{}).pipe(e=>(this.clearToken(),this.announceLoggedIn.next(null),setTimeout(()=>{alert("Logged out Successfully.")},300),e))}currentUser(){let e=localStorage.getItem("username");return null!=e&&(e=e),e}setCurrentUser(e){localStorage.setItem("username",e)}setToken(e){localStorage.setItem("token",JSON.stringify({token:e.token}))}getToken(){try{return JSON.parse(localStorage.getItem("token"))}catch(e){this.clearToken()}}clearToken(){localStorage.removeItem("username"),localStorage.removeItem("token"),localStorage.clear()}}return e.ngInjectableDef=l.Jb({factory:function(){return new e(l.Kb(i.l),l.Kb(u.a))},token:e,providedIn:"root"}),e})()},NCLd:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n=o("LRne"),r=o("IheW"),a=o("JIr8"),s=o("8Y7J"),c=o("iInd");let l=(()=>{class e{constructor(e,t){this.http=e,this.router=t}getData(e,t={}){let o=e,r=Object.assign({params:t});return this.http.get(o,r).pipe(Object(a.a)(e=>(console.log("ERROR: ",e),Object(n.a)(e))))}postData(e,t){return this.http.post(e,t,this.getHTTPHeader()).pipe(Object(a.a)(e=>(console.log("ERROR: ",e),Object(n.a)(e))))}putData(e,t){return this.http.put(e,t,this.getHTTPHeader()).pipe(Object(a.a)(e=>(console.log("ERROR: ",e),Object(n.a)(e))))}deleteData(e){return this.http.delete(e).pipe(Object(a.a)(e=>(console.log("ERROR: ",e),Object(n.a)(e))))}getHTTPHeader(){return{headers:new r.g({"Content-Type":"application/json"})}}}return e.ngInjectableDef=s.Jb({factory:function(){return new e(s.Kb(r.c),s.Kb(c.l))},token:e,providedIn:"root"}),e})()}}]);